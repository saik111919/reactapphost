import{r as d,P as r,j as e,g as T,f as L,d as E,u as I,B as M,e as H,h as q,i as F,k as A,l as V}from"./index-B-P9EGGw.js";import{C as B}from"./index-DxRojBkx.js";const D=()=>{const s=localStorage.getItem("theme"),[t,o]=d.useState(s||"dark");function l(a){localStorage.setItem("theme",a),document.querySelector("body").setAttribute("data-bs-theme",a)}function n(){o(a=>a==="dark"?"light":"dark")}return d.useEffect(()=>{l(t)},[t]),[t,n]},p=({tag:s="button",text:t="Logout",className:o="",onClick:l})=>e.jsx(s,{className:o,onClick:l,children:t});p.propTypes={tag:r.elementType,className:r.string,text:r.string.isRequired,onClick:r.func};function O(s){return T({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}const h=({name:s,onNameChange:t})=>{const[o,l]=d.useState(!1),[n,a]=d.useState(!1),[c,m]=L(!1),x=E(),{register:j,handleSubmit:N,formState:{errors:b},reset:v}=I({defaultValues:{name:s}}),y=()=>{l(!0)},k=()=>{l(!1)},C=()=>{a(!0)},u=()=>{a(!1),v()},S=w=>{c(!0),q(w).then(({data:i})=>{x("success",i.message,5e3),t(i.data.name),localStorage.setItem("name",i.data.name),a(!1)}).catch(i=>{var g,f;x("error",((f=(g=i.response)==null?void 0:g.data)==null?void 0:f.message)||"Error occurred.",5e3)}).finally(()=>{c(!1)})};return e.jsxs("div",{children:[e.jsx(m,{}),e.jsxs("span",{className:"text-2xl font-mono flex gap-1 align-middle lg:cursor-pointer",onMouseEnter:y,onMouseLeave:k,children:[s||"Default Name",o&&e.jsx("span",{className:"cursor-pointer",onClick:C,children:e.jsx(M,{className:"mt-1"})})]}),n&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header flex justify-between",children:[e.jsx("h5",{className:"modal-title",children:"Edit Name"}),e.jsx("button",{type:"button",className:" transition-colors duration-200",onClick:u,"aria-label":"Close",children:e.jsx(B,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:N(S),children:[e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"mb-3",children:e.jsx(H,{type:"text",name:"name",label:"Name",register:j("name",{required:{value:!0,message:"Name is required."}}),error:b.name})})}),e.jsxs("div",{className:"modal-footer flex p-0",children:[e.jsx("button",{type:"submit",className:"flex-1 m-0 rounded-bl bg-blue-600 p-3",children:"Save"}),e.jsx("button",{type:"button",className:"flex-1 bg-gray-500 p-3 m-0 rounded-br",onClick:u,children:"Close"})]})]})]})})}),n&&e.jsx("div",{className:"modal-backdrop fade show",onClick:u})]})};h.propTypes={name:r.string,onNameChange:r.func.isRequired};h.defaultProps={name:"Default Name"};const z=()=>{const[s,t]=D(),o=F(),l=localStorage.getItem("name"),[n,a]=d.useState(l),c=m=>{a(m)};return e.jsx("div",{className:"-m-1",children:e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"w-full p-4 flex justify-between shadow-sm",children:[e.jsx("h1",{className:"text-2xl font-mono",children:"Settings"}),e.jsx(h,{name:n,onNameChange:c}),e.jsx(O,{className:"h-7 w-7 transition-transform duration-300 ease-in-out transform hover:rotate-180 hover:text-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 rounded-none shadow-md ",onClick:t,children:[e.jsx("span",{className:"fs-5 text-lg font-medium",children:"Theme"}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-sm mr-2 flex align-middle cursor-pointer shadow-xl ",children:s==="dark"?e.jsx(A,{className:"text-light text-2xl"}):e.jsx(V,{className:"text-yellow-500 text-2xl"})})})]}),e.jsx("div",{className:"absolute lg:bottom-0 bottom-16 w-full",children:e.jsx(p,{tag:"button",className:"bg-danger p-3 text-light w-full",onClick:()=>{localStorage.clear(),o("/reactapphost/login")}})})]})})};export{z as default};

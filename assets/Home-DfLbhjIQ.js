import{r as j,P as d,j as e,F as C,a as N,b as v}from"./index-B-P9EGGw.js";import{u as y}from"./useTransaction-GBGMbQau.js";const M=(s=[])=>{const a=t=>{const[r,u]=t.split("-");return`${r}-${u.padStart(2,"0")}`},n=()=>{const t=new Date,r=t.getFullYear(),u=(t.getMonth()+1).toString().padStart(2,"0");return`${r}-${u}`},i=s.length>0?s[s.length-1].monthYear:n(),o=a(i),[l,c]=j.useState(o);j.useEffect(()=>{c(o)},[o]);const h=t=>{c(t.target.value)},x=(s.find(t=>a(t.monthYear)===l)||{transactions:[]}).transactions,f=x.filter(t=>t.type==="spent").reduce((t,r)=>t+r.amount,0),g=x.filter(t=>t.type==="credited").reduce((t,r)=>t+r.amount,0),b=g-f;return{selectedMonth:l,handleMonthChange:h,transactions:x,totalSpent:f,totalCredited:g,remainingAmount:b,formattedLastMonth:o}},m=({title:s,value:a,icon:n,iconColor:i})=>e.jsx("div",{className:"flex-1 min-w-[150px] bg-inherit text-inherit border  shadow-md",children:e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"text-lg font-medium",children:s}),e.jsxs("span",{className:"text-xl font-bold",children:[a,"â‚¹"]})]}),e.jsx(n,{className:`text-2xl ${i}`})]})});m.propTypes={title:d.string.isRequired,value:d.number.isRequired,icon:d.elementType.isRequired,iconColor:d.string};const S=()=>{const{data:s,LoaderComp:a}=y(),{selectedMonth:n,handleMonthChange:i,transactions:o,totalSpent:l,totalCredited:c,remainingAmount:h,formattedLastMonth:p}=M(s);return e.jsxs(e.Fragment,{children:[e.jsx(a,{}),e.jsxs("div",{className:"card mt-2 bg-inherit border rounded-lg",children:[e.jsxs("div",{className:"card-header p-0 flex justify-between align-middle border-b rounded-t-lg",children:[e.jsxs("h3",{className:"self-center drop-shadow-lg px-3",children:["Expenses ",n&&"for"," ",n]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"month",value:n,onChange:i,max:p,className:"bg-inherit border border-inherit rounded-tr-lg p-3 text-inherit placeholder-inherit focus:outline-none focus:ring-2 focus:ring-inherit transition-colors duration-200 ease-in-out",placeholder:"Select month"})})]}),o.length===0?e.jsx("div",{className:"card-body p-4 text-center",children:e.jsxs("p",{className:"text-lg font-medium text-gray-500",children:["No transactions available ",n&&"for"," ",n,"."]})}):e.jsxs("div",{className:"card-body flex flex-wrap p-0",children:[e.jsx(m,{title:"Spent",value:l,icon:C,iconColor:"text-green-500"}),e.jsx(m,{title:"Credited",value:c,icon:N,iconColor:"text-blue-500"}),e.jsx(m,{title:"Remaining Amount",value:h,icon:v,iconColor:"text-red-500"})]})]})]})},E=()=>e.jsx(e.Fragment,{children:e.jsx(S,{})});export{E as default};
